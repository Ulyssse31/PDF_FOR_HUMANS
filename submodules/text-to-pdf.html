<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text to PDF ‚Äî PDF for Humans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-slate-900 via-sky-900 to-slate-900 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
        const App = () => {
            const [text, setText] = React.useState('');
            const [status, setStatus] = React.useState('idle');

            const handleFile = async (e) => {
                const file = e.target.files[0];
                if (!file) return;
                const content = await file.text();
                setText(content);
            };

            const downloadPDF = () => {
                setStatus('processing');
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();

                // Split text to fit page
                const splitText = doc.splitTextToSize(text, 180);

                // Add text with auto-paging
                let y = 10;
                splitText.forEach(line => {
                    if (y > 280) {
                        doc.addPage();
                        y = 10;
                    }
                    doc.text(line, 10, y);
                    y += 10;
                });

                doc.save('converted_text.pdf');
                setStatus('success');
                setTimeout(() => setStatus('idle'), 2000);
            };

            return (
                <div className="min-h-screen p-6 flex flex-col items-center">
                    <div className="max-w-4xl w-full">
                        <a href="../index.html" className="inline-flex items-center gap-2 text-sky-300 hover:text-white mb-8 transition-colors">
                            <span className="text-xl">‚Üê</span> Back to Tools
                        </a>

                        <div className="bg-slate-800/80 backdrop-blur rounded-2xl p-8 border border-slate-700 shadow-xl">
                            <h1 className="text-3xl font-bold text-white mb-2">Text to PDF</h1>
                            <p className="text-slate-400 mb-6">Convert plain text files or type directly to create a PDF.</p>

                            <textarea
                                value={text}
                                onChange={(e) => setText(e.target.value)}
                                className="w-full h-96 bg-slate-900 border border-slate-700 rounded-xl p-6 text-slate-200 font-mono mb-6 focus:ring-2 focus:ring-sky-500 outline-none resize-none"
                                placeholder="Type or paste text here..."
                            />

                            <div className="flex gap-4">
                                <label className="flex-1 cursor-pointer bg-slate-700 hover:bg-slate-600 text-white rounded-xl flex items-center justify-center p-4 transition-colors font-medium">
                                    <input type="file" accept=".txt,.md" className="hidden" onChange={handleFile} />
                                    üìÇ Upload Text File
                                </label>

                                <button
                                    onClick={downloadPDF}
                                    disabled={!text || status === 'processing'}
                                    className="flex-1 bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-500 text-white rounded-xl font-bold text-lg shadow-lg shadow-sky-500/20 disabled:opacity-50 disabled:cursor-not-allowed"
                                >
                                    {status === 'processing' ? 'Converting...' : 'Download PDF'}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>